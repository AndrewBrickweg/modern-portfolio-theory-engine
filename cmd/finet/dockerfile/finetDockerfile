FROM golang:1.24

WORKDIR /usr/src/app

# Copy entire repo (needed for replace ../ paths)
COPY . .

# Move into module folder
WORKDIR /usr/src/app/cmd/finet

RUN go mod tidy
RUN go mod download

RUN go build -o finet-server main.go

EXPOSE 8000

CMD ["./finet-server"]
